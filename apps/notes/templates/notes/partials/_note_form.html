<form 
    hx-post="
        {% if note %}
            {% url 'notes:update' note.pk %}
        {% else %}
            {% url 'notes:create' %}
        {% endif %}
    "
    hx-target="#form"
    hx-swap="innerHTML"
    class="max-w-2xl mx-auto w-full mt-10 p-5 rounded-lg space-y-3"
    novalidate
>
    {% if form.non_field_errors %}
    <ul class="flex flex-col gap-1">
        {% for error in form.non_field_errors %}
        <li class="p-1 bg-red-200 text-sm font-bold text-red-600 border-l-4 border-red-600">{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    {% csrf_token %}

    {% include 'partials/_app_form_fields.html' %}

    <button 
        type="submit"
        class="w-full p-1 bg-green-600 text-white rounded hover:bg-green-700 cursor-pointer transition-colors"
    >    
        {% if note %}
        Update note
        {% else %}
        Create note    
        {% endif %}        
    </button>
</form>
